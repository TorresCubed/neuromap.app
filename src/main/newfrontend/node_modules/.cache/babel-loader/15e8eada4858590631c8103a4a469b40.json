{"ast":null,"code":"import _slicedToArray from\"C:/Users/torre/Desktop/neuroMap.app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useCallback,useContext,useState}from\"react\";import IdeaForm from\"./IdeaForm\";import{ThemeContext}from\"./ThemeContext\";import{IdeaContext}from\"./IdeaContext\";import update from\"immutability-helper\";import{v4 as uuidv4}from\"uuid\";import\"./OptionBar.css\";import{SketchPicker}from\"react-color\";var OptionBar=function OptionBar(){var _useContext=useContext(IdeaContext),ideas=_useContext.ideas,selectedId=_useContext.selectedId,setSelectedId=_useContext.setSelectedId,ideasDispatch=_useContext.ideasDispatch;var selectedIdea=ideas[selectedId];var _useContext2=useContext(ThemeContext),theme=_useContext2.theme,updateTheme=_useContext2.updateTheme;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),colorSelectorValue=_useState2[0],setColorSelectorValue=_useState2[1];var _useState3=useState(\"#800080\"),_useState4=_slicedToArray(_useState3,2),background=_useState4[0],setBackground=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showColorPalet=_useState6[0],setShowColorPalet=_useState6[1];var changeColor=useCallback(function(color){setBackground(color.hex);updateTheme({element:{1:\"optionBarColor\",2:\"freeFormIdeasColor\",3:\"selectedIdeaColor\"}[colorSelectorValue],color:color.hex});},[colorSelectorValue,updateTheme]);var handleThemeSelection=useCallback(function(event){setColorSelectorValue(event.target.value);if(event.target.value===\"0\"){setShowColorPalet(false);return;}setShowColorPalet(true);},[]);var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showIdeaChangeForm=_useState8[0],setShowIdeaChangeForm=_useState8[1];var toggleFormType=useCallback(function(){setShowIdeaChangeForm(!showIdeaChangeForm);},[showIdeaChangeForm]);var handleIdeaChange=useCallback(function(idea){if(idea.title===\"\")return;if(!idea.id){var newID=uuidv4();ideasDispatch({type:\"create\",id:newID,data:update(idea,{$merge:{top:100,left:100}})});setSelectedId(newID);setShowIdeaChangeForm(false);return;}toggleFormType();ideasDispatch({type:\"update\",id:selectedId,data:idea});},[toggleFormType,selectedId,ideasDispatch,setSelectedId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"OptionBar\",style:{background:theme.optionBarColor},children:[/*#__PURE__*/_jsx(\"div\",{className:\"selector\",children:/*#__PURE__*/_jsx(\"button\",{style:{margin:\"5px\"},onClick:toggleFormType,children:\"Edit Selected Idea\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(IdeaForm,{onSubmit:handleIdeaChange,idea:showIdeaChangeForm?selectedIdea:{}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"selector\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Select what you'd like to customize\"}),/*#__PURE__*/_jsxs(\"select\",{style:{margin:\"5px\"},onChange:handleThemeSelection,children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"None\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Option Bar\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Idea Canvas\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Selection Outline\"})]})]}),showColorPalet&&/*#__PURE__*/_jsx(SketchPicker,{onChange:changeColor,color:background})]});};export default OptionBar;","map":{"version":3,"sources":["C:/Users/torre/Desktop/neuroMap.app/src/OptionBar.js"],"names":["React","useCallback","useContext","useState","IdeaForm","ThemeContext","IdeaContext","update","v4","uuidv4","SketchPicker","OptionBar","ideas","selectedId","setSelectedId","ideasDispatch","selectedIdea","theme","updateTheme","colorSelectorValue","setColorSelectorValue","background","setBackground","showColorPalet","setShowColorPalet","changeColor","color","hex","element","handleThemeSelection","event","target","value","showIdeaChangeForm","setShowIdeaChangeForm","toggleFormType","handleIdeaChange","idea","title","id","newID","type","data","$merge","top","left","optionBarColor","margin"],"mappings":"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","sourcesContent":["import React, { useCallback, useContext, useState } from \"react\";\r\nimport IdeaForm from \"./IdeaForm\";\r\nimport { ThemeContext } from \"./ThemeContext\";\r\nimport { IdeaContext } from \"./IdeaContext\";\r\nimport update from \"immutability-helper\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport \"./OptionBar.css\";\r\nimport { SketchPicker } from \"react-color\";\r\n\r\nconst OptionBar = () => {\r\n  const { ideas, selectedId, setSelectedId, ideasDispatch } = useContext(\r\n    IdeaContext\r\n  );\r\n  const selectedIdea = ideas[selectedId];\r\n\r\n  const { theme, updateTheme } = useContext(ThemeContext);\r\n  const [colorSelectorValue, setColorSelectorValue] = useState(0);\r\n  const [background, setBackground] = useState(\"#800080\");\r\n  const [showColorPalet, setShowColorPalet] = useState(false);\r\n\r\n  const changeColor = useCallback(\r\n    (color) => {\r\n      setBackground(color.hex);\r\n      updateTheme({\r\n        element: {\r\n          1: \"optionBarColor\",\r\n          2: \"freeFormIdeasColor\",\r\n          3: \"selectedIdeaColor\",\r\n        }[colorSelectorValue],\r\n        color: color.hex,\r\n      });\r\n    },\r\n    [colorSelectorValue, updateTheme]\r\n  );\r\n\r\n  const handleThemeSelection = useCallback((event) => {\r\n    setColorSelectorValue(event.target.value);\r\n    if (event.target.value === \"0\") {\r\n      setShowColorPalet(false);\r\n      return;\r\n    }\r\n    setShowColorPalet(true);\r\n  }, []);\r\n\r\n  const [showIdeaChangeForm, setShowIdeaChangeForm] = useState(false);\r\n  const toggleFormType = useCallback(() => {\r\n    setShowIdeaChangeForm(!showIdeaChangeForm);\r\n  }, [showIdeaChangeForm]);\r\n\r\n  const handleIdeaChange = useCallback(\r\n    (idea) => {\r\n      if (idea.title === \"\") return;\r\n      if (!idea.id) {\r\n        const newID = uuidv4();\r\n        ideasDispatch({\r\n          type: \"create\",\r\n          id: newID,\r\n          data: update(idea, { $merge: { top: 100, left: 100 } }),\r\n        });\r\n        setSelectedId(newID);\r\n        setShowIdeaChangeForm(false);\r\n        return;\r\n      }\r\n      toggleFormType();\r\n      ideasDispatch({ type: \"update\", id: selectedId, data: idea });\r\n    },\r\n    [toggleFormType, selectedId, ideasDispatch, setSelectedId]\r\n  );\r\n\r\n  return (\r\n    <div className=\"OptionBar\" style={{ background: theme.optionBarColor }}>\r\n      <div className=\"selector\">\r\n        <button style={{ margin: \"5px\" }} onClick={toggleFormType}>\r\n          Edit Selected Idea\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <IdeaForm\r\n          onSubmit={handleIdeaChange}\r\n          idea={showIdeaChangeForm ? selectedIdea : {}}\r\n        />\r\n      </div>\r\n      <div className=\"selector\">\r\n        <div>Select what you'd like to customize</div>\r\n        <select style={{ margin: \"5px\" }} onChange={handleThemeSelection}>\r\n          <option value=\"0\">None</option>\r\n          <option value=\"1\">Option Bar</option>\r\n          <option value=\"2\">Idea Canvas</option>\r\n          <option value=\"3\">Selection Outline</option>\r\n        </select>\r\n      </div>\r\n      {showColorPalet && (\r\n        <SketchPicker onChange={changeColor} color={background} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OptionBar;\r\n"]},"metadata":{},"sourceType":"module"}