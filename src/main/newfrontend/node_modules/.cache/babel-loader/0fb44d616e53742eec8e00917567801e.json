{"ast":null,"code":"import _objectSpread from\"C:/Users/torre/Desktop/neuroMap.app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/torre/Desktop/neuroMap.app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useCallback,useLayoutEffect,useContext,useRef}from\"react\";import{useDrag}from\"react-dnd\";import{ItemTypes}from\"./ItemTypes\";import linker from\"./linkerIcon.JPG\";import{IdeaContext}from\"./IdeaContext\";import{ThemeContext}from\"./ThemeContext\";import\"./Idea.css\";export var Idea=function Idea(_ref){var id=_ref.id,left=_ref.left,top=_ref.top,title=_ref.title,linkList=_ref.linkList,onEdit=_ref.onEdit,selected=_ref.selected,onSelect=_ref.onSelect,onLinkStart=_ref.onLinkStart,onLinkEnd=_ref.onLinkEnd;var _useContext=useContext(ThemeContext),theme=_useContext.theme;var _useContext2=useContext(IdeaContext),ideasDispatch=_useContext2.ideasDispatch;var domElement=useRef();useLayoutEffect(function(){var _domElement$current,_domElement$current2;ideasDispatch({type:\"update\",id:id,data:{width:(_domElement$current=domElement.current)===null||_domElement$current===void 0?void 0:_domElement$current.offsetWidth,height:(_domElement$current2=domElement.current)===null||_domElement$current2===void 0?void 0:_domElement$current2.offsetHeight}});});var _useDrag=useDrag({item:{id:id,left:left,top:top,title:title,linkList:linkList,type:ItemTypes.IDEA}}),_useDrag2=_slicedToArray(_useDrag,2),drag=_useDrag2[1];var domElementRef=useCallback(function(domElementReference){domElement.current=domElementReference;drag(domElementReference);},[drag]);var handleSelect=useCallback(function(){return onSelect(id);},[onSelect,id]);var handleDoubleClick=useCallback(function(e){e.preventDefault();onEdit(id,title);},[onEdit,id,title]);var linkInitiation=useCallback(function(e){e.preventDefault();onLinkStart(e);},[onLinkStart]);var linkerDesignation=useCallback(function(){onLinkEnd(id);},[onLinkEnd,id]);var selectedStyle=selected?{border:\"2px solid \".concat(theme.selectedIdeaColor),boxShadow:\"4px 4px 15px \".concat(theme.selectedIdeaColor),zIndex:\"2\"}:{};return/*#__PURE__*/_jsxs(\"div\",{ref:domElementRef,style:_objectSpread({left:left,top:top},selectedStyle),onDoubleClick:handleDoubleClick,className:\"idea\"+(selected?\" selected\":\"\"),onMouseUp:linkerDesignation,onClick:handleSelect,children:[/*#__PURE__*/_jsx(\"img\",{className:\"linker\",src:linker,alt:\"link\",onMouseDown:linkInitiation}),title]});};","map":{"version":3,"sources":["C:/Users/torre/Desktop/neuroMap.app/src/Idea.js"],"names":["React","useCallback","useLayoutEffect","useContext","useRef","useDrag","ItemTypes","linker","IdeaContext","ThemeContext","Idea","id","left","top","title","linkList","onEdit","selected","onSelect","onLinkStart","onLinkEnd","theme","ideasDispatch","domElement","type","data","width","current","offsetWidth","height","offsetHeight","item","IDEA","drag","domElementRef","domElementReference","handleSelect","handleDoubleClick","e","preventDefault","linkInitiation","linkerDesignation","selectedStyle","border","selectedIdeaColor","boxShadow","zIndex"],"mappings":"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","sourcesContent":["import React, { useCallback, useLayoutEffect, useContext, useRef } from \"react\";\r\nimport { useDrag } from \"react-dnd\";\r\nimport { ItemTypes } from \"./ItemTypes\";\r\nimport linker from \"./linkerIcon.JPG\";\r\nimport { IdeaContext } from \"./IdeaContext\";\r\nimport { ThemeContext } from \"./ThemeContext\";\r\nimport \"./Idea.css\";\r\n\r\nexport const Idea = ({\r\n  id,\r\n  left,\r\n  top,\r\n  title,\r\n  linkList,\r\n  onEdit,\r\n  selected,\r\n  onSelect,\r\n  onLinkStart,\r\n  onLinkEnd,\r\n}) => {\r\n  const { theme } = useContext(ThemeContext);\r\n\r\n  const { ideasDispatch } = useContext(IdeaContext);\r\n\r\n  const domElement = useRef();\r\n  useLayoutEffect(() => {\r\n    ideasDispatch({\r\n      type: \"update\",\r\n      id,\r\n      data: {\r\n        width: domElement.current?.offsetWidth,\r\n        height: domElement.current?.offsetHeight,\r\n      },\r\n    });\r\n  });\r\n\r\n  const [, drag] = useDrag({\r\n    item: { id, left, top, title, linkList, type: ItemTypes.IDEA },\r\n  });\r\n\r\n  const domElementRef = useCallback(\r\n    (domElementReference) => {\r\n      domElement.current = domElementReference;\r\n      drag(domElementReference);\r\n    },\r\n    [drag]\r\n  );\r\n\r\n  const handleSelect = useCallback(() => onSelect(id), [onSelect, id]);\r\n\r\n  const handleDoubleClick = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      onEdit(id, title);\r\n    },\r\n    [onEdit, id, title]\r\n  );\r\n\r\n  const linkInitiation = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      onLinkStart(e);\r\n    },\r\n    [onLinkStart]\r\n  );\r\n\r\n  const linkerDesignation = useCallback(() => {\r\n    onLinkEnd(id);\r\n  }, [onLinkEnd, id]);\r\n\r\n  let selectedStyle = selected\r\n    ? {\r\n        border: `2px solid ${theme.selectedIdeaColor}`,\r\n        boxShadow: `4px 4px 15px ${theme.selectedIdeaColor}`,\r\n        zIndex: \"2\",\r\n      }\r\n    : {};\r\n\r\n  return (\r\n    <div\r\n      ref={domElementRef}\r\n      style={{ left, top, ...selectedStyle }}\r\n      onDoubleClick={handleDoubleClick}\r\n      className={\"idea\" + (selected ? \" selected\" : \"\")}\r\n      onMouseUp={linkerDesignation}\r\n      onClick={handleSelect}\r\n    >\r\n      <img\r\n        className=\"linker\"\r\n        src={linker}\r\n        alt=\"link\"\r\n        onMouseDown={linkInitiation}\r\n      />\r\n      {title}\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}