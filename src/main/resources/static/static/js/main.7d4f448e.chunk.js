(this["webpackJsonpneuromap.app"]=this["webpackJsonpneuromap.app"]||[]).push([[0],{102:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){},218:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c(0),i=c.n(a),o=c(87),l=c.n(o),r=(c(102),c(61),c(34)),s=c(6),d=c(12),u=c(8),b=c.n(u);var j=i.a.createContext(),O=i.a.createContext(),f=c(224),h=c(223),p="idea",x=c.p+"static/media/linkerIcon.1687f5ed.JPG",v=(c(104),function(e){var t=e.id,c=e.left,i=e.top,o=e.title,l=e.linkList,d=e.onEdit,u=e.selected,b=e.onSelect,f=e.onLinkStart,v=e.onLinkEnd,m=Object(a.useContext)(O).theme,C=Object(a.useContext)(j).ideasDispatch,k=Object(a.useRef)();Object(a.useLayoutEffect)((function(){var e,c;C({type:"update",id:t,data:{width:null===(e=k.current)||void 0===e?void 0:e.offsetWidth,height:null===(c=k.current)||void 0===c?void 0:c.offsetHeight}})}));var g=Object(h.a)({item:{id:t,left:c,top:i,title:o,linkList:l,type:p}}),I=Object(s.a)(g,2)[1],S=Object(a.useCallback)((function(e){k.current=e,I(e)}),[I]),y=Object(a.useCallback)((function(){return b(t)}),[b,t]),w=Object(a.useCallback)((function(e){e.preventDefault(),d(t,o)}),[d,t,o]),M=Object(a.useCallback)((function(e){e.preventDefault(),f(e)}),[f]),F=Object(a.useCallback)((function(){v(t)}),[v,t]),N=u?{border:"2px solid ".concat(m.selectedIdeaColor),boxShadow:"4px 4px 15px ".concat(m.selectedIdeaColor),zIndex:"2"}:{};return Object(n.jsxs)("div",{ref:S,style:Object(r.a)({left:c,top:i},N),onDoubleClick:w,className:"idea"+(u?" selected":""),onMouseUp:F,onClick:y,children:[Object(n.jsx)("img",{className:"linker",src:x,alt:"link",onMouseDown:M}),o]})}),m=c(222),C=(c(105),function(e){var t=e.onClose,c=e.children;return Object(n.jsx)("div",{className:"modal",children:Object(n.jsxs)("div",{children:[c,Object(n.jsx)("div",{className:"closeButton",onClick:t,children:"\xd7"})]})})}),k=(c(106),function(e){var t=e.onSubmit,c=e.idea,i=Object(a.useState)(c||{title:""}),o=Object(s.a)(i,2),l=o[0],r=o[1];l.id!==(null===c||void 0===c?void 0:c.id)&&r(c||{title:""});var d=Object(a.useCallback)((function(e){return r(b()(l,{title:{$set:e.target.value}}))}),[l]),u=Object(a.useCallback)((function(e){e.preventDefault(),t(l),r({title:""})}),[t,l]),j={addForm:{header:"Add an Idea",label:"Enter Idea:",button:"Add"},editForm:{header:"Enter Idea Change",label:"Change Idea:",button:"Change"}},O=l.id?"editForm":"addForm";return Object(n.jsxs)("div",{className:"form",children:[Object(n.jsx)("h1",{children:j[O].header}),Object(n.jsxs)("form",{onSubmit:u,children:[Object(n.jsx)("div",{children:Object(n.jsx)("label",{children:j[O].label})}),Object(n.jsx)("div",{children:Object(n.jsx)("textarea",{value:l.title,onChange:d})}),Object(n.jsx)("div",{children:Object(n.jsx)("input",{className:"submitButton",type:"submit",value:j[O].button})})]})]})}),g=(c(107),function(e){var t=e.start,c=e.end,a=c[0]-t[0],i=c[1]-t[1],o=Math.sqrt(a*a+i*i)-4,l=180/Math.PI*Math.atan2(a,i),r={top:t[0]+"px",left:t[1]+"px",width:o+"px",transform:"rotate("+l+"deg)"};return Object(n.jsx)("div",{style:r,className:"line",children:Object(n.jsx)("div",{className:"arrow"})})});c(108);function I(e,t){var c,n,a=e.height,i=e.width,o=e.top,l=e.left,r=Math.abs(t),s=180/Math.PI*Math.atan2(a,i);if(r>s&&r<180-s)c=o+(t<0?0:a),n=l+i/2+a/2*Math.tan((90-r)*Math.PI/180);else{var d=r<=s;c=o+a/2+i/2*Math.tan((d?t:180-t)*Math.PI/180),n=l+(d?i:0)}return[c,n].map(Math.round)}var S=function(){var e=Object(a.useContext)(O).theme,t=Object(a.useContext)(j),c=t.ideas,i=t.ideasDispatch,o=t.selectedId,l=t.setSelectedId,d=c[o],u=Object(a.useState)({top:0,left:0}),h=Object(s.a)(u,2),x=h[0],S=h[1],y=Object(a.useState)(!1),w=Object(s.a)(y,2),M=w[0],F=w[1],N=Object(a.useCallback)((function(){return F(!0)}),[]),L=Object(a.useCallback)((function(){return F(!1)}),[]),D=Object(a.useState)(),E=Object(s.a)(D,2),B=E[0],P=E[1],$=Object(a.useState)(!1),A=Object(s.a)($,2),T=A[0],z=A[1],R=Object(a.useCallback)((function(){return z(!1)}),[]),Y=Object(a.useRef)(),J=Object(a.useState)(60),U=Object(s.a)(J,2),X=U[0],G=U[1],H=function(){G(Y.current.getBoundingClientRect().y)},q=Object(a.useCallback)((function(e){P([e.clientY-X,e.clientX]),z(!0)}),[X]),W=Object(a.useCallback)((function(e){T&&P([e.clientY-X,e.clientX])}),[T,X]),K=Object(a.useCallback)((function(e){z(!1),e!==o&&T&&i({type:"link",fromId:o,toId:e})}),[o,T,i]),Q=Object(f.a)({accept:p,drop:function(e,t){var c=t.getDifferenceFromInitialOffset(),n=Math.round(e.left+c.x),a=Math.round(e.top+c.y);i({type:"update",id:e.id,data:{left:n,top:a}})}}),V=Object(s.a)(Q,2)[1],Z=Object(a.useCallback)((function(e){l(e),N(!0)}),[N,l]),_=Object(a.useCallback)((function(e){"FreeFormIdeas"===e.target.className&&(e.preventDefault(),S({top:e.clientY-X,left:e.clientX}),l(Object(m.a)()),setTimeout(N,300))}),[N,l,X]),ee=Object(a.useCallback)((function(e){L(),""!==e.title&&(e.id?i({type:"update",id:o,data:e}):i({type:"create",id:o,data:b()(e,{$merge:x})}))}),[x,o,i,L]),te=Object(a.useCallback)((function(e){Y.current=e,H(),V(e)}),[V]);return Object(a.useEffect)((function(){return window.addEventListener("resize",H),function(){window.removeEventListener("resize",H)}}),[]),Object(n.jsxs)("div",{ref:te,className:"FreeFormIdeas",style:{background:e.freeFormIdeasColor},onDoubleClick:_,onMouseUp:R,onMouseMove:W,children:[M&&Object(n.jsx)(C,{onClose:L,children:Object(n.jsx)(k,{onSubmit:ee,idea:d})}),Object.entries(c).map((function(e){var t=Object(s.a)(e,2),c=t[0],a=t[1];return Object(n.jsx)(v,Object(r.a)({onEdit:Z,onSelect:l,selected:a.id===o,onLinkStart:q,onLinkEnd:K},a),c)})),Array.from((null===d||void 0===d?void 0:d.linkList)||[],(function(e){var t=c[e].top+c[e].height/2-(d.top+d.height/2),a=c[e].left+c[e].width/2-(d.left+d.width/2),i=180/Math.PI*Math.atan2(t,a),l=i-180*Math.sign(i);return Object(n.jsx)(g,{start:I(d,i),end:I(c[e],l)},"".concat(o," -> ").concat(e))})),T&&Object(n.jsx)("div",{className:"linkingArrow",children:Object(n.jsx)(g,{start:[d.top,d.left],end:B})})]})},y=(c(109),c(93)),w=function(){var e=Object(a.useContext)(j),t=e.ideas,c=e.selectedId,i=e.setSelectedId,o=e.ideasDispatch,l=t[c],r=Object(a.useContext)(O),d=r.theme,u=r.updateTheme,f=Object(a.useState)(0),h=Object(s.a)(f,2),p=h[0],x=h[1],v=Object(a.useState)("#800080"),C=Object(s.a)(v,2),g=C[0],I=C[1],S=Object(a.useState)(!1),w=Object(s.a)(S,2),M=w[0],F=w[1],N=Object(a.useCallback)((function(e){I(e.hex),u({element:{1:"optionBarColor",2:"freeFormIdeasColor",3:"selectedIdeaColor"}[p],color:e.hex})}),[p,u]),L=Object(a.useCallback)((function(e){x(e.target.value),"0"!==e.target.value?F(!0):F(!1)}),[]),D=Object(a.useState)(!1),E=Object(s.a)(D,2),B=E[0],P=E[1],$=Object(a.useCallback)((function(){P(!B)}),[B]),A=Object(a.useCallback)((function(e){if(""!==e.title){if(!e.id){var t=Object(m.a)();return o({type:"create",id:t,data:b()(e,{$merge:{top:100,left:100}})}),i(t),void P(!1)}$(),o({type:"update",id:c,data:e})}}),[$,c,o,i]);return Object(n.jsxs)("div",{className:"OptionBar",style:{background:d.optionBarColor},children:[Object(n.jsx)("div",{className:"selector",children:Object(n.jsx)("button",{style:{margin:"5px"},onClick:$,children:"Edit Selected Idea"})}),Object(n.jsx)("div",{children:Object(n.jsx)(k,{onSubmit:A,idea:B?l:{}})}),Object(n.jsxs)("div",{className:"selector",children:[Object(n.jsx)("div",{children:"Select what you'd like to customize"}),Object(n.jsxs)("select",{style:{margin:"5px"},onChange:L,children:[Object(n.jsx)("option",{value:"0",children:"None"}),Object(n.jsx)("option",{value:"1",children:"Option Bar"}),Object(n.jsx)("option",{value:"2",children:"Idea Canvas"}),Object(n.jsx)("option",{value:"3",children:"Selection Outline"})]})]}),M&&Object(n.jsx)(y.a,{onChange:N,color:g})]})},M=function(){var e=function(){var e=Object(a.useState)("a"),t=Object(s.a)(e,2),c=t[0],n=t[1],i=Object(a.useReducer)((function(e,t){switch(t.type){case"update":return b()(e,Object(d.a)({},t.id,{$merge:t.data}));case"create":return b()(e,Object(d.a)({},t.id,{$set:Object.assign({id:t.id,linkList:new Set},t.data)}));case"link":return b()(e,Object(d.a)({},t.fromId,{linkList:{$add:[t.toId]}}));default:throw new Error("Unexpected action type: ".concat(t.type))}}),{a:{id:"a",top:20,left:80,title:"Here is an Example to get you Started",linkList:new Set("b")},b:{id:"b",top:180,left:20,title:"Great Idea!",linkList:new Set}}),o=Object(s.a)(i,2);return{ideas:o[0],ideasDispatch:o[1],selectedId:c,setSelectedId:n}}(),t=function(){var e=Object(a.useState)({freeFormIdeasColor:"#008080",optionBarColor:"#800080",selectedIdeaColor:"#FFD700"}),t=Object(s.a)(e,2),c=t[0],n=t[1],i=Object(a.useCallback)((function(e){n(b()(c,Object(d.a)({},e.element,{$set:e.color})))}),[c]);return{theme:c,updateTheme:i}}();return Object(n.jsx)("div",{className:"Containment",children:Object(n.jsx)(j.Provider,{value:e,children:Object(n.jsxs)(O.Provider,{value:t,children:[Object(n.jsx)(S,{}),Object(n.jsx)(w,{})]})})})},F=c(94),N=c(221),L=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)("h1",{children:"Map Your Ideas Below"})}),Object(n.jsx)(N.a,{backend:F.a,children:Object(n.jsx)(M,{})})]})},D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,225)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;c(e),n(e),a(e),i(e),o(e)}))};l.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(L,{})}),document.getElementById("root")),D()},61:function(e,t,c){}},[[218,1,2]]]);
//# sourceMappingURL=main.7d4f448e.chunk.js.map